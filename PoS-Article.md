# 0. 术语表

**区块链**

字面意思理解区块链，区块链是指由一个一个包含数据的区块按照顺序连在一起的一条链。深入理解的话，区块链是借由密码学串接并保护内容的串连交易记录（又称区块）。

每一个区块包含了前一个区块的加密散列、相应时间戳记以及交易数据（通常用默克尔树算法计算的散列值表示），这样的设计使得区块内容具有难以篡改的特性。用区块链所串接的分布式账本能让两方有效纪录交易，且可永久查验此交易。

**区块链共识**

Consensus，通过密码学让分布式网络达成一致的一种算范，如PoW，PoS，DPoS

**PoW**

Proof of Work，工作量证明机制

**PoS**

Proof of Stake，股权证明机制

**Coin**

区块链网络中的基础货币，具有网络内交易、转账等基础功能。它是一种原生币，通常由网络上的矿工通过挖矿产生，并伴随着交易产生手续费。是区块链网络的基础为整个网络提供基本的交易和转账功能。

**Token**

区块链技术的一种可流通的数字资产，它可以代表各种权益、资产或服务的所有权，是基于Coin之上的附加价值。Token可以通过智能合约来发行，其具体规则由相应的项目方制定。

**Stake**

可以翻译为动词质押，在PoS共识中，通过Stake可以获得出块人权利，将Token进行Stake，意思就将Token抵押给系统的意思。


**硬分叉与软分叉**


软件的更新不向后做兼容。比如2013版本的word文件在2018版本的word里面是可以打开的，这种更新是做了向后兼容的，可以理解为是软分叉；如果不能打开，可以理解这个更新是一次硬分叉。

  

**最终确定性**


指区块信息无法被篡改，或者篡改可能性非常小


**Dapp**

去中心化应用，Decentralized Applications

  

**TPS**


每秒交易笔数（Transactions per second）

  

**Nothing at Stake**

  

无利害关系，指在PoS共识下，验证人作恶无风险的行为情况

  

**Slash**


削减/扣除，指PoS共识下，系统扣除验证人抵押金的行为


**矿工/验证人/出块人**


* 矿工：PoW共识中的节点维护人
* 验证人：PoS共识中的节点维护人，有些项目也叫出块人（Block Producer）

  

**ICO**

Initial Coin Offering 首次币发行

  

**Voting Power**

直译为投票权重，实际指的是通过Stake的代币占总量的比重。比如代币总量为1亿，1千万代币进行了Stake，那么整体的投票权重为10%，这10%可能分布在不同节点身上，和节点数量没有关系，很可能是5%分布在一个节点，其余5%分布在生态中其他100个节点中。


**Nonce**

在通信安全中，Nonce是一个在加密通信只能使用一次的数字

# 1. PoS介绍

  

## 1.1 什么是区块链共识


区块链是由一个一个块链接形成了块链条，每个新块生成（包含交易记录）都需要参与验证人的共同确认，这个共同确认的过程就是区块链共识。

主流的共识算法包括PoW（Proof of Work工作量证明），PoS（Proof of Stake 股权证明机制），BFT （拜占庭容错机制），Pool验证池，混合共识等，还有一些从主流基础上演变出来的共识算法，诸如PoA（Proof of Authorization授权证明机制），PoI（Proof of Importance重要性证明机制），DPoS （Delegate Proof of Stake股权证明机制），PBFT（Practical Byzantine Fault Tolerance使用拜占庭容错算法）等等。

## 1.2 什么是PoW-工作量证明

工作量证明是比特币等许多区块链网络所采用的共识算法。它的核心思想是要求矿工通过解决复杂的数学问题，来验证交易并将新区块添加到链中。解决这个问题的过程需要大量的计算能力，因此得名“工作量证明”。

PoW的工作原理是：每个节点通过执行哈希运算来争夺区块链上的下一个区块的记账权。哈希函数的特点是输入稍有变化，输出就会有很大的不同，这使得攻击者难以伪造。当节点找到一个满足特定条件的哈希值时，它就拥有了本次记账权，可以发布本轮需要记录的数据，其他节点验证后一起存储。

PoW的安全性在于其计算的困难性。哈希函数的特性使得计算出一个满足条件的哈希值非常耗时，而且随着计算能力的提升，难度也会随之增加。这意味着攻击者需要控制大量的计算能力才能发起攻击，这被称为51%攻击。然而，在实际操作中，攻击者要达到这个门槛非常困难，因此PoW被认为是一种相对安全可靠的共识算法。

PoW也存在一些缺点。最明显的是其能源消耗问题。由于计算哈希值需要大量的能源，以以太坊为例，在从PoW转向PoS后根据第三方的统计能源消耗较少超过99%，因此有人批评PoW对环境造成负面影响，也是因为这个原因PoW算法的区块链的挖矿行为在中国大陆现行法律中属于违法行为。此外，PoW还面临着可扩展性和公平性问题。由于每个节点都需要进行哈希运算，交易确认时间较长且难以提高交易效率，而且只有拥有足够计算能力的节点才能参与挖矿，这引发了对于资源公平分配的质疑。


## 1.3 **什么是PoS-股权证明机制共识**

  
权益证明是一种改进的共识算法，旨在解决PoW所面临的一些问题。与PoW不同，PoS不再依赖计算能力来争夺记账权，而是根据每个节点所占有的代币数量和时间来决定挖矿难度和权益。随着时间的推移，拥有更多代币的节点将有更大的机会成为下一个区块的验证者。

PoS的优点在于其能源效率更高。由于不再需要大量的计算能力来争夺记账权，能源消耗大大减少。此外，PoS还提高了可扩展性和公平性。由于验证者是根据其所占有的代币数量和时间来选择的，因此资源更加公平地分配给了所有节点。同时，由于减少了必要的手续和时间消耗,PoS也提高了交易的效率。


PoS共识中引入了Stake的概念，持币人将代币进行Staking，然后获得出块的机会，PoS共识中会通过选举算法，按照持币量比例，选出区块的矿工。矿工在指定区块高度（BlockHeight，区块的标号，本个区块与创世区块之间的块数）完成打包交易，生成新区块，并广播区块，广播的区块经过PoS共识中另外一道门槛，验证人，验证交易，通过验证后，区块得到确认。这样一轮PoS的共识过程就进行完成了。



# 2. PoS的发展

## 2.1 PoW+PoS

混合PoW+PoS共识是PoW过渡到PoS的一种过渡阶段。

## 2.2 纯PoS

纯PoS有更短的区块间隔，更合理的铸币方式，从而吸引了很多早期的人进来挖矿，甚至有很多专门做矿池的开始在论坛收币做验证人（Validator）。但是早期的PoS机制币种的案例也不少，原因大多在与PoS中Staking的激励太小，无法支持验证人的成本，还有就是去中心化的运行模式在PoS上的应用并不想PoW上那么完善。

## 2.3  委托PoS（DPoS）

比特股BitShares采用的区块链共识算法是权益授权证明Delegated Proof of Stake（简称DPoS），基于石墨烯（Graphene）平台搭建，这套石墨烯技术后来发展成了DPoS的专用底层，基于石墨烯开发的区块链项目可以直接使用DPoS的共识机制，免去了重复开发的苦恼，像Steemit，EOS，Lisk等都是基于石墨烯平台搭建的DPoS公链。

Graphene 是一个使用 DPOS 达成共识的区块链框架，但是对于现阶段来说，石墨烯区块链已经过时了。