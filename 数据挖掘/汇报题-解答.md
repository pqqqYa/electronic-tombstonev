
### 数据分析与挖掘全流程答题模板

#### 1. 数据准备：明确分析目标，收集相关数据

1. 根据题目提供的场景，确定分析任务是分类（KNN或朴素贝叶斯）还是聚类（k-means）。  
2. 准备好 清晰的任务描述，确保知道分析的目的和期望的结果。

#### 2. 数据预处理：清洗和整理数据，确保数据质量

首先进行数据清洗：  

1. 缺失值处理：用均值、中位数填补缺失值，或删除缺失比例过高的样本/特征。  
2. 异常值处理：通过统计方法（如IQR）或业务规则识别异常值，修正或移除。  
3. 去重：检查并删除重复记录，确保数据唯一性。  

数据转换：  

1. 特征编码：将分类变量（如性别：男/女）转为数值型，使用one-hot编码或标签编码。  
2. 标准化/归一化：对数值特征进行Z-score标准化或Min-Max归一化，确保量纲一致（如KNN对距离敏感，需标准化）。  
3. 特征选择：通过相关性分析（如皮尔逊系数）或特征重要性排序，选择与目标最相关的特征。  
4. 数据分割（分类任务）：将数据分为训练集和测试集（比例如7:3或8:2），保证模型评估的独立性。  

#### 3. 数据探索：分析数据分布和特征，制定建模策略
- **数据分布分析**：  
  - **统计分析**：计算特征的均值、方差、分位数等，了解数据基本特性。  
  - **可视化**：绘制直方图（观察分布）、散点图（观察关系）或箱线图（发现异常值）。  
- **数据假设**：  
  - **KNN分类**：假设距离相近的样本类别相似，需验证特征分布是否均匀。  
  - **朴素贝叶斯分类**：假设特征条件独立，需检查特征间相关性。  
  - **k-means聚类**：假设数据有聚类结构，需初步估计聚类数k。  
- **特征工程**：  
  - 构造新特征：如从“交易时间”提取“是否周末”。  
  - 降维：若特征过多，可用PCA降低维度，便于计算和可视化。  

#### 4. 模型选择与建模：根据场景选择并训练模型
- **KNN与朴素贝叶斯分类的比较**：  
	- **KNN分类**：  
		- **原理**：根据距离（如欧几里得距离）找到k个最近邻，通过多数投票预测类别。 
		- **超参数**：选择k值（如3、5、7），通过交叉验证优化。  
		- **优点**：简单，适合小数据集；**缺点**：计算量大，对噪声敏感。  
	- **朴素贝叶斯分类**：  
		- **原理**：基于贝叶斯定理，假设特征独立，计算后验概率进行分类。  
		- **类型**：根据特征选择高斯（连续型）、多项式（离散型）模型。  
		- **优点**：高效，适合高维数据；**缺点**：特征相关性高时效果下降。  
  - **比较**：结合场景分析适用性。如数据特征独立性强，朴素贝叶斯更优；样本量小且分布均匀，KNN更合适。  
- **k-means聚类**：  
	- **流程**：  
	    1. **确定k值**：用肘部法则（WCSS下降拐点）或轮廓系数选择最佳k。  
	    2. **初始化**：随机选k个中心，或用k-means++优化。  
	    3. **分配**：将样本分配到最近的中心。  
	    4. **更新**：计算每簇均值，更新中心。  
	    5. **迭代**：重复3-4，直至中心稳定。  
  - **注意**：对初始点和异常值敏感，需多次运行并预处理数据。  

#### 5. 模型评估与优化：评估模型性能并优化
- **分类任务（KNN与朴素贝叶斯）**：  
	- **评估指标**：准确率、精确率、召回率、F1值。  
	- **混淆矩阵**：检查各类别预测情况。  
	- **交叉验证**：用5折或10折验证模型稳定性。  
- **聚类任务（k-means）**：  
	- **评估指标**：轮廓系数（衡量簇间分离度）、簇内方差（WCSS）。  
	- **可视化**：用散点图验证聚类效果。  
- **优化**：  
	- **参数调优**：网格搜索优化k值或其他参数。  
	- **特征调整**：重新选择特征或改进特征工程。  
	- **数据增强**：若数据不足，可用SMOTE生成样本。  

#### 6. 结果分析与解释：总结结果，提出业务建议
- **结果解释**：  
	- **分类**：分析预测结果，指出关键特征（如“收入”对购买决策的影响）。  
	- **聚类**：描述各簇特征，如“高频消费用户群”。  
- **业务建议**：  
	- **分类**：基于预测优化营销策略。  
	- **聚类**：为不同群体定制服务。  
- **可视化**：用ROC曲线（分类）或散点图（聚类）展示结果。  

#### 7. 总结与反思：总结过程，提出改进方向
- **总结**：概述分析步骤和结论，说明模型选择的合理性。  
- **改进方向**：  
	- 收集更多数据或特征。  
	- 尝试其他模型（如SVM、随机森林）。  
	- 使用更全面的评估指标（如AUC）。  


