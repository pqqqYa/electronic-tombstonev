# 不定积分

## 1 概念

### 1.1 原函数

设$f(x)$在区间$(a,b)$内有定义。若存在函数$F(x)$，使得在该区间内任一点都有  $F'(x)=f(x)$  则称$F(x)$为$f(x)$在区间$(a,b)$内的一个**原函数**。

若 F(x) 为 f(x) 在某区间内的原函数，则 F(x)+C（C 为任意常数）也为 f(x) 在该区间内的**原函数**。

### 1.2 不定积分

$f(x)$ 的原函数的全体称为 $f(x)$ 的不定积分，记为 $\int f(x) \, dx$

如果 $F(x)$ 为 $f(x)$ 的一个原函数，则有 $$\int f(x) \, dx = F(x) + C$$ 其中 $C$ 为任意常数。

### 1.3 不定积分的性质（4点）

-  $\left ( \int f(x) \, dx \right )' = f(x)$，$d \int f(x) \, dx = f(x) \, dx

-  $\int f'(x) \, dx = f(x) + C$，$\int df(x) = f(x) + C$

-  $\int [f(x) \pm g(x)] \, dx = \int f(x) \, dx \pm \int g(x) \, dx$

-  $\int k f(x) \, dx = k \int f(x) \, dx$ （$k$ 为常数）

## 2 不定积分基本公式（20条）

- $\int 0 \, dx = C$
- $\int x^a \, dx = \frac{1}{a+1}x^{a+1} + C$ $(a \ne -1)$
- $\int \frac{1}{x} \, dx = \ln |x| + C$
- $\int a^x \, dx = \frac{a^x}{\ln a} + C$ $(a > 0, a \ne 1)$
- $\int e^x \, dx = e^x + C$
- $\int \sin x \, dx = -\cos x + C$
- $\int \cos x \, dx = \sin x + C$
- $\int \sec^2 x \, dx = \tan x + C$
- $\int \csc^2 x \, dx = -\cot x + C$
- $\int \sec x \tan x \, dx = \sec x + C$
- $\int \csc x \cot x \, dx = -\csc x + C$
- $\int \frac{1}{\sqrt{1-x^2}} \, dx = \arcsin x + C$
- $\int \frac{1}{1+x^2} \, dx = \arctan x + C$
- $\int \frac{dx}{\sqrt{a^2-x^2}} = \arcsin \frac{x}{a} + C$
- $\int \frac{dx}{a^2+x^2} = \frac{1}{a} \arctan \frac{x}{a} + C$
- $\int \frac{dx}{x^2-a^2} = \frac{1}{2a} \ln \left| \frac{x-a}{x+a} \right| + C$
- $\int \frac{dx}{\sqrt{x^2+a^2}} = \ln (x + \sqrt{x^2+a^2}) + C$
- $\int \frac{dx}{\sqrt{x^2-a^2}} = \ln |x + \sqrt{x^2-a^2}| + C$
- $\int \sec x \, dx = \ln |\sec x + \tan x| + C$
- $\int \csc x \, dx = -\ln |\csc x + \cot x| + C$

## 3 三种主要积分法

### 3.1 第一换元积分法

#### 3.1.1 定理 
设 $\int f(u) \, du = F(u) + C$，$u = \varphi(x)$ 在连续导数，则
$$\int f[\varphi(x)] \varphi'(x) \, dx = \int f[\varphi(x)] \, d\varphi(x) = F[\varphi(x)] + C$$

#### 3.1.2 常见的凑微分形式（10个）

- $\int f(ax + b) \, dx = \frac{1}{a} \int f(ax + b) \, d(ax + b)$
- $\int x^m f(ax^{m+1} + b) \, dx = \frac{1}{(m+1)a} \int f(ax^{m+1} + b) \, d(ax^{m+1} + b)$ $(m \ne -1)$
- $\int f(\sqrt{x}) \frac{dx}{\sqrt{x}} = 2 \int f(\sqrt{x}) \, d(\sqrt{x})$
- $\int f(e^x) e^x \, dx = \int f(e^x) \, d(e^x)$
- $\int f(\ln x) \frac{1}{x} \, dx = \int f(\ln x) \, d(\ln x)$
- $\int f(\sin x) \cos x \, dx = \int f(\sin x) \, d(\sin x)$
- $\int f(\cos x) \sin x \, dx = -\int f(\cos x) \, d(\cos x)$
- $\int f(\tan x) \frac{1}{\cos^2 x} \, dx = \int f(\tan x) \, d(\tan x)$
- $\int f(\arcsin x) \frac{1}{\sqrt{1-x^2}} \, dx = \int f(\arcsin x) \, d(\arcsin x)$
- $\int f(\arctan x) \frac{1}{1+x^2} \, dx = \int f(\arctan x) \, d(\arctan x)$

### 3.2 第二换元积分法（）

#### 3.2.1 定理
设 $x = \varphi(t)$ 是单调的、可导的函数，并且 $\varphi'(t) \neq 0$。又$$\int f[\varphi(t)] \varphi'(t) \, dt = F(t) + C,$$则$$\int f(x) \, dx = \int f[\varphi(t)] \varphi'(t) \, dt = F(t) + C = F[\varphi^{-1}(x)] + C,$$其中 $\varphi^{-1}(x)$ 是 $x = \varphi(t)$ 的反函数。

#### 3.2.2 常用的三种变量代换

- 被积函数含有 $\sqrt{a^2 - x^2}$，令 $x = a \sin t$（或 $a \cos t$）。
- 被积函数含有 $\sqrt{a^2 + x^2}$，令 $x = a \tan t$。
- 积函数含有 $\sqrt{x^2 - a^2}$，令 $x = a \sec t$。

### 3.3 分部积分法

#### 3.3.1 分部积分公式
   $$\int u \, dv = uv - \int v \, du.$$

#### 3.3.2 分部积分法所适用的函数类

分部积分法比较适用于两类不同函数相乘。如下列积分，这里 $p_n(x)$ 为 $x$ 的 $n$ 多项式。
   - $\int p_n(x) e^{ax} \, dx,$
   - $\int p_n(x) \sin ax \, dx,$
   - $\int p_n(x) \cos ax \, dx,$
   - $\int e^{ax} \sin \beta x \, dx,$
   - $\int e^{ax} \cos \beta x \, dx,$
   - $\int p_n(x) \ln x \, dx,$
   - $\int p_n(x) \arctan x \, dx,$
   - $\int p_n(x) \arcsin x \, dx.$

#### 3.3.3 分部积分法中 $u, v$ 的选取
   分部积分法在使用时的关键是 $u, v$ 的选取，换句话说就是把谁凑到微分号里去。

   1. $\int p_n(x) e^{ax} \, dx$ ， $\int p_n(x) \sin ax \, dx$ ，$\int p_n(x) \cos ax \, dx$，这三种积分都应把多项式以外的函数凑进微分号

   2. $\int e^{ax} \sin \beta x \, dx$ ， $\int e^{ax} \cos \beta x \, dx$，两种积分把指数函数或三角函数凑进微分号都可以，但把指数凑进去更简单，连续两次将指数函数凑进去分部积分还原便可求解

   3. $\int p_n(x) \ln x \, dx$ ， $\int p_n(x) \arctan x \, dx$ ， $\int p_n(x) \arcsin x \, dx$ ， 三种积分都应把多项式函数凑进微分号

## 4 三种常见可积函数积分

### 4.1 有理函数积分$\int R(x) \, dx$

1. 一般方法(部分分式法)
2. 特殊方法(加项减项拆或凑微分降幂)

### 4.2 三角有理式积分$\int R(\sin x, \cos x) \, dx$

#### 4.2.1 **一般方法(万能代换)**  （不常用）令 $\tan \frac{x}{2} = t$，  
   $$\int R(\sin x, \cos x) \, dx = \int R\left(\frac{2t}{1 + t^2}, \frac{1 - t^2}{1 + t^2}\right) \frac{2}{1 + t^2} \, dt.$$

#### 4.2.2 **特殊方法(三角变形，换元，分部)**  （常用）

- 若 $R(-\sin x, \cos x) = -R(\sin x, \cos x)$，则令 $u = \cos x$，或凑 $d\cos x$
- 若 $R(\sin x, -\cos x) = -R(\sin x, \cos x)$，则令 $u = \sin x$，或凑 $d\sin x$
- 若 $R(-\sin x, -\cos x) = R(\sin x, \cos x)$，则令 $u = \tan x$，或凑 $d\tan x$