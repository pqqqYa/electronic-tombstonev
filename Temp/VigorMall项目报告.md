# 1 需求分析

## 1.1 引言

### 1.1.1 项目背景

在数字化飞速发展的当下，电子商务蓬勃兴起，深刻重塑了商业与消费模式。电子产品领域因科技进步也呈现出爆发式创新与增长，消费者的需求急剧扩张并越发的多元化。然而，现有的电商平台多呈现用户交互体验糟糕，程序设计无法满足当今消费者的使用需求和维护人员快捷维护的需求。就消费者而言，缺点主要体现商品展示不够直观，包含过多推广元素；对维护人员而言，缺点主要体现在代码老旧繁琐，更新维护困难。由此，VigorMall元气商城应运而生，VigorMall元气商城采用最新的Vite6和typescript进行Vue3项目构建，为维护人员和消费者提供更加交互友好型的现代化应用程序。

### 1.1.2 项目意义

对于消费者，它重塑购物体验，以简洁直观且无过多干扰推广的商品展示界面，让消费者能精准聚焦产品核心价值与特色，轻松决策。友好的交互设计使其在浏览、筛选、购买等环节都流畅自如，极大提升购物的愉悦感与便捷性，满足现代消费者对高效优质购物过程的追求。对于维护人员，采用先进的 Vite6 和 typescript 构建 Vue3 项目，摆脱老旧繁琐代码的桎梏，让更新维护工作高效快捷。组件化设计理念不仅保障消费者界面友好，也使维护人员在功能拓展、系统优化等方面更具灵活性与可操作性，降低技术成本与时间成本，确保商城能持续适应市场变化与技术革新，在电商领域为各方参与者创造全新价值与体验标杆。

## 1.2 目标与任务

### 1.2.1 需求分析阶段的目标

1. **深入理解用户需求**：全面、准确地把握用户的期望和要求。了解用户在使用产品或服务时想要实现的功能，以及他们对性能、可靠性、易用性等方面的期望。如快速搜索商品、商品销售状态、跟踪订单状态等功能。
2. **为项目提供清晰的方向**：明确产品或服务应该具备的功能和特性，为整个项目的开发、设计和实施提供明确的方向。确定项目的范围，避免项目范围的蔓延。确定具体包含商品展示、商品购买、商品推荐等功能。
3. **建立各方共识**：在项目团队成员（开发人员、设计人员、测试人员）之间以及预期的项目使用者之间建立对项目目标和需求的共同理解。确保项目推进是在一个正确的方向上，减少后期因理解不一致而导致的冲突和返工。例如，开发人员和设计人员对于产品界面的布局和功能实现方式通过需求分析达成一致，从而提高工作效率。

### 1.2.2 需求分析阶段的任务

1. **收集需求信息**：通过多种方式收集广泛的意见，并且观察现有软件用户的操作习惯，寻找切合用户的真实使用痛点与需求。
2. **分析和整理需求**：对收集到的需求信息进行分类、筛选和提炼。识别出核心需求、次要需求和可有可无的需求。将需求按照功能模块、用户角色等方式进行整理，以便更好地理解和管理。
3. **需求验证和确认**：与预期用户共同验证需求的准确性和完整性。确保所分析出来的需求真正符合用户的期望和项目的目标。通过原型展示、需求规格说明书等方式进行验真和确认。
4. **建立需求文档**：将经过验证的需求以规范的文档形式记录下来，如需求规格说明书、用户需求书等。这些文档将作为项目后续开发、测试和验收的重要依据。其中最重要的为需求规格说明书，其用于描述软件的功能、性能、接口等要求，包括输入输出的格式、数据的范围等内容，为开发人员提供了明确的开发指南，也为测试人员提供了测试标准。

# 2 概要设计

## 2.1 项目概述

vigor-mall元气商城，旨在为用户提供一个便捷的购物平台。项目采用 Vue3作为前端框架，Pinia 作为状态管理库，Vite 作为构建工具，以及Vant4作为 UI 组件库。
## 2.2 功能模块
- 商品展示模块：展示商品信息，包括图片、价格、描述等。
- 用户管理模块：包括用户注册、登录、个人信息管理等功能。
- 视频模块：包含视频播放、视频互动、商品展示等功能。
- 购物车模块：用户可以将商品添加到购物车，查看购物车中的商品，以及进行结算。
- 订单管理模块：用户可以查看订单信息，包括订单状态、订单详情等。
- 后台管理模块：可对用户信息进行管理

## 2.3 技术架构
- 前端：Vue3、Pinia、Vite6、Vant4、Vue Router
- 后端：SpringBoot、mybatis
- 数据库：MySQL数据库


# 3 详细设计

## 3.1 首页模块模块

vigor-mall 的首页模块涵盖展示商城主页诸多内容，像顶部搜索栏、轮播图、推荐与分类商品等，用户借此可浏览、搜索商品并查看详情。组件结构方面，模板部分运用 van-sticky 固定顶部搜索栏，van-tabs 实现标签页切换对应商品分类，van-swipe 展示轮播图，van-grid 展示推荐商品，还有自定义组件 Commodity 展示单个商品；脚本部分引入 useFunctionStore 与 useFreightStore 获取全局数据，用 ref 定义 nav 控制标签页激活状态，且有 onClickScan 和 toSearch 等方法处理搜索栏点击事件；样式部分采用 scoped 避免冲突，还有 fix-grid 和 freight-container 等全局样式统一布局与样式。数据交互上，借助 useFunctionStore 和 useFreightStore 与全局状态管理交互获取数据，通过 v-model 绑定 nav 切换标签页，v-for 循环渲染商品列表与推荐商品。

## 3.2 商品搜索模块

商品搜索模块涵盖顶部搜索栏、搜索建议与结果等。用户在此可输入关键词，查看结果并筛选、购买商品。在组件结构上，模板部分利用 van-sticky 固定顶部搜索栏，van-tabs 切换不同结果分类标签页，van-swipe 展示搜索历史与建议，van-grid 展示结果，还有自定义 Commodity 展示单个商品；脚本部分引入 useSearchStore 获取全局数据，用 ref 定义 searchInput 等响应式变量控制搜索框等状态，且有 onClickback 等方法处理点击、搜索、清除及结果过滤等事件；样式部分采用 scoped 避免冲突，还有 fix-grid 等全局样式统一商品展示布局与样式。数据交互方面，借助 useSearchStore 与全局管理交互获取相关数据，通过 v-model 绑定 searchInput 实现搜索框操作，v-for 循环渲染搜索历史、建议与结果列表，从而构建起功能完备的搜索界面体系。

## 3.3 短视频导购模块

短视频导购模块用于展示视频，主要由多个部分构成。视频播放器借助video标签呈现视频，利用 ref 获取引用以在脚本中操控播放，同时借助 @touchstart 和 @touchend 监听触摸操作来控制播放，依据宽高比设 object-fit 属性保证不同屏幕显示正常。导航栏居顶部，含“逛逛”等多个导航项，通过 v-for 循环渲染，@click 监听点击实现切换页面内容功能。迷你商品组件可接收父组件数据展示商品信息；点赞组件能让用户点赞，ref 获取引用，@touchstart 和 @touchend 监听触摸实现操作；消息组件展示用户消息互动，接收父组件数据展示；收藏组件供用户收藏视频，ref 控收藏状态，@touchstart 和 @touchend 监听触摸操作；分享组件用于分享视频，ref 控制分享功能，@touchstart 和 @touchend 监听触摸实现分享。

## 3.4 购物车模块

购物车模块涵盖商品展示、商品添加、物品数量调整、价格计算、选中物品结算以及邮寄地址选择等功能，购物车头部运用van-sticky组件固定于页面顶部，借助CartHeader组件展示相关信息。商品列表通过 v-for 循环 cartStore.shopList，为各店铺创建shop-section元素，以ShopCard组件展示商品，利用 :shop:selected-goods 属性绑定数据，@update-total-price 和 @update-selected-goods 事件监听更新。结算底部使用SettleFee组件，以 :total-price 属性绑定 totalPrice 变量，@click 事件监听点击并调用 navigateToCheckout 方法结算。精彩推荐依靠fix-div-2和fix-title组件呈现标题。推荐商品则使用freight-container组件展示列表，经 v-for 循环 searchStore.recommendList，用Commodity组件展示每个推荐商品信息。
## 3.5 登录注销模块

登录注销模块涵盖了登录登出功能，顶部导航栏采用van-nav-bar组件，标题栏含返回按钮，其文本、图标及点击返回逻辑均有相应设置，点击可调用 goBack 法回上页。登录容器以login-container构建，通过多种样式设置实现垂直弹性布局、元素居中向上对齐、特定高度及内边距、背景、边框等样式。登录表单由form @submit.prevent="onSubmit" class="login-form达成，能阻止默认提交并调用 onSubmit 登录。表单输入项借助form-item实现水平弹性布局与元素居中，含form-label标签与input输入框并绑定数据。登录按钮为"submit-button类型为提交且有特定样式，点击可调用 onSubmit 方法执行登录操作；在脚本部分使用axios借助后端提供的接口实现用户信息传递与交互。

## 3.6 信息管理模块

信息管理模块使用了TypeScript的响应式组件，引入了 useOrderStore 和 useSearchStore 两个 store，分别用于管理订单数据和搜索数据。页面主要分为两部分：订单列表和今日推荐。订单列表部分使用了 van-tabs 组件来展示不同状态的订单，如全部订单、待付款、待发货、待收货和待评价。每个订单状态下使用 v-for 循环遍历对应的订单数据，并使用 van-card 组件展示订单详情。今日推荐部分则使用了 Commodity 组件来展示推荐的商品列表。在用户设置管理方面，通过 Setting文件实现。该文件同样使用了 TypeScript的响应式组件，引入了 useRouter 用于路由跳转。页面主要分为两部分：设置列表和操作按钮。设置列表部分使用了 van-cell 组件展示了多个设置选项，如我的收货地址、授权管理、问题反馈、联系我们和关于 VigorMall。

## 3.7 人工智能客服模块

人工智能客服模块实现了AI客服的引入与使用，运用 script setup 语法糖组织代码，引入 onMounted 生命周期钩子，还定义了 goBack 函数，达成返回上一页功能。在组件挂载后的操作里，于 onMounted 钩子中创建script 标签并设为异步加载，待脚本加载完毕，设定 window.embeddedChatbotConfig 对象，涵盖聊天机器人的 ID 与域名。其中聊天机器人使用chatbase进行机器人的训练，最后使用iframe即可使用VigorMall的专属客服。

# 4 软件实现



# 5 遇到的主要问题及解决办法



# 6 收获与体会