# 1 需求分析

## 1.1 引言

### 1.1.1 项目背景

鸿蒙系统作为具有创新性和前瞻性的操作系统，正逐步构建起一个庞大且充满活力的智能生态。鸿蒙 Next 更是聚焦于原生应用开发，致力于为用户提供更加流畅、安全和个性化的体验。在这样的生态环境下，开发一款适配鸿蒙 Next 的应用具有广阔的市场潜力和技术探索价值。对于广大用户而言，无论是学生群体想要合理规划生活费、上班族希望精准掌控收支以实现财务自由，还是家庭用户需要统筹家庭财务，都迫切需要一款专门针对鸿蒙 Next 设备优化的记账程序。现有的记账应用虽然众多，但在与鸿蒙 Next 系统深度融合、充分发挥其独特性能优势方面仍存在提升空间。
### 1.1.2 项目意义

借助华为的 ArkTS 开发框架，能够充分利用鸿蒙 Next 的分布式特性、高效的资源管理能力以及强大的交互功能，为用户打造一款界面简洁美观、操作便捷流畅、功能全面且精准的记账工具。它不仅能够满足用户日常的基本记账需求，如快速记录收入与支出、分类管理账目、生成详细报表等，还将结合鸿蒙 Next 的特色功能，让用户随时随地都能轻松管理个人财务，开启元气满满的财务管理新体验，助力用户在财务规划之路上稳步前行。

## 1.2 目标与任务

### 1.2.1 需求分析阶段的目标

- **账单管理**：提供一个用户友好的界面，方便用户记录和查看账单信息。支持收入和支出的分类管理。
- **数据统计与展示**：实时统计用户的总收入和总余额。以图表或其他可视化形式展示账单数据。
- **用户交互**：提供日期选择功能，允许用户查看特定日期范围内的账单。提供导航和页面跳转功能，增强用户体验。
- **数据持久化**：将用户的账单信息存储在本地数据库中，确保数据的安全性和可靠性。
- **日志记录**：记录关键操作和系统状态，便于调试和问题排查。


### 1.2.2 需求分析阶段的任务

**需求调研**：调研目标用户对账单管理的需求，了解用户希望的功能和特性。分析竞品，确定项目的差异化优势。
**功能定义**：定义核心功能，如添加账单、查看账单、统计账单等。设计用户界面，确定各个页面的布局和交互方式。
**数据模型设计**：设计账单数据模型，包括收入和支出的字段和关系，确定数据存储方式。
**用户界面设计**：设计首页布局，包括标题、收入和余额的显示区域。设计账单列表页面，展示用户的账单详情。设计日期选择器，允许用户选择特定日期范围。
**技术选型**：选择合适的前端框架和技术栈使用 ArkTS 和 ArkUI。确定数据存储于本地文件管理器中。
**开发计划**：制定详细的开发计划，包括各个功能模块的开发时间表。分配开发资源，明确各开发人员的职责和任务。
**测试计划**：制定测试计划，包括单元测试、集成测试和系统测试。确定测试用例，覆盖各种使用场景和边界条件。
**文档编写**：编写需求文档，详细描述项目的需求和功能。编写设计文档，记录系统的架构和设计细节。编写用户手册，指导用户如何使用系统。

# 2 概要设计

## 2.1 项目概述

VigorBill元气账单，旨在为用户提供一个便捷的记账软件。项目基于鸿蒙Next平台开发，采用 ArkTS作为主要技术框架以及ArkUI作为 UI 组件库。

## 2.2 功能模块

- 首页模块模块：展示项目标签，分日期展示收入与支出情况。
- 账单模块：展示年度收入支出，以及分月展示收入支出，实现对收入支出的按日期筛选。
- 记账模块：实现的对收入支出的记录并对其进行分类、备注和时间标定。
- 开发者展示模块：展示项目开发者信息以及项目logo。


## 2.3 技术架构

使用ArkTS作为项目的主要开发语言，用于编写应用程序的逻辑和用户界面配和JSON用于配置文件和数据交换。

# 3 详细设计

## 3.1 首页模块

首页模块主要负责展示用户的收支信息和提供一些操作功能。通过导入必要的模块和组件，定义了一些状态变量来管理数据，并在页面显示时从数据库中获取所有的收支信息，计算总收入和总余额，然后更新状态变量。页面布局包含一个标题栏、一个 BalanceViewer 组件、一个 PageEntries 组件和一个 BalanceList 组件。BalanceViewer 组件用于展示当前日期的收支信息，PageEntries 组件用于提供页面导航功能，BalanceList 组件用于展示收支列表。并定义了clearCache 方法用于清除总收入和总余额的缓存，以及onPageShow 方法用于在页面显示时处理数据获取和更新

## 3.2 账单模块

账单模块旨在展示与管理用户账单信息，具备展示年度、月度账单信息，提供日期选择功能以及进行数据获取和处理等功能，其运用了@ohos_router页面导航和路由管理，@ohos_common通用工具类和常量，@Entry与@Component定义页面入口与组件结构，@State定义组件状态，还有DatePickerDialog实现日期选择，List和ForEach用于展示遍历数据列表，GridRow和GridCol用于构建网格布局。

## 3.3 记账模块

记账模块主要负责添加收支记录，页面由顶部导航栏（含收支类型切换与取消按钮，借助 Stack、Column、Row 组件构建布局）、收支类型图标区（通过 GridRow、GridCol 与 ForEach 循环展示图标并实现点击选类型及动画效果）、输入框（TextInput 组件输入收支金额与备注并利用 onChange 事件更新状态）和日期选择器（Text 展示日期，onClick 触发 DatePickerDialog 选择日期并更新相关状态）几部分构成。

## 3.4 开发者展示模块

开发者展示模块主要用于展示应用程序的版权信息和开发者信息。该模块通过使用 @Entry 和 @Component 装饰器，定义 Copyright 结构体，包含一个 build 方法，用于构建用户界面。在 build 方法中，使用Row 和 Column 组件来布局界面。使用一个 Image 组件来显示应用程序的图标，并设置了图标的宽度、高度和边框样式。使用了多个 Text 组件来展示开发者的姓名、邮箱和其他相关信息。

# 4 软件实现



# 5 遇到的主要问题及解决办法



# 6 收获与体会

