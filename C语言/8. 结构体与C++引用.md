# 8. 结构体与C++引用
## 8.1 结构体-结构体对齐-结构体数组

###  8.1.1 结构体的定义、初始化、结构体数组

C语言提供结构体来管理不同类型的数据组合

~~~c
struct 结构体名
{
	成员表列
};
~~~

~~~c
#include <stdio.h>  
struct student  
{  
    int num;char name[20];  
    char sex;  
    int age;  
    float score;  
    char addr[30];  
};  
int main()  
{  
    struct student st ={1001,"tim",'M',20,99,"chengdu"};//定义结构体变量  
    scanf("%d%s %c%d%f%s",&st.num,st.name,&st.sex,&st.age,&st.score,st.addr);
    printf("%s\n",st.name);
}
~~~

* 结构体类型声明，注意最后一定要加分号 
* addr和name里面不需要加&，因为数组名本身就包含了指针
* 结构体输出必须某单独去访问内部的单个成员`&starr[i]`

~~~c
#include <stdio.h>  
  
struct student  
{  
    int num;char name[20];  
    char sex;  
    int age;  
    float score;  
    char addr[30];  
};  
//结构体类型声明，注意最后一定要加分号  
  
int main()  
{  
    struct student starr[3];  
    int i;  
    for(i=0;i<3;i++)  
    {  
        scanf("%d%s %c%d%f%s",&starr[i].num,starr[i].name,&starr[i].sex,&starr[i].age,&starr[i].score,starr[i].addr);  
    }  
    for(i=0;i<3;i++)  
    {  
        printf("%s\n",starr[i].name);  
    }  
}
~~~

* 结构体数组和数组类似的操作方式

### 8.1.2 结构体对齐（计算结构体的大小）

* 结构体的大小必须是其组大成员的整数倍。（数据类型的最大成员，不是包含数组）
* 对齐的目的是为了让cpu高效的去读取内存中的数据。（方便数据总线去读取）

~~~c
#include <stdio.h>  
struct student_type1  
{  
    double score;  
    short age;  //8+2 <16 = 8*2
};  
struct student_type2  
{  
    double score;  
    int height;  
    short age;  //8+4+2 <16 = 8*2
};  
struct student_type3  
{  
    int height;  
    char sex;  
    short age;  //4+1+2 < 8 = 5*2
};  
int main()  
{  
    struct student_type1 s1;  
    struct student_type2 s2;  
    struct student_type3 s3;  
    printf("%d %d %d\n", sizeof(s1), sizeof(s2), sizeof(s3));  
    return 0;  
}
//结果
//16 16 8
~~~

* 在这里的`student_type2`中，`height`和`age`会共同占8个字节；在`student_type3`中的`sex`和`age`也会是这样的。
* 如果2个小存储之和是小于最大长度就会放在一起。

## 8.2 结构体指针与typedef的使用

### 8.2.1 结构体指针

一个结构体变量的指针就是该变量所占据的内存段的起始地址。




### 8.2.2 typedef的使用






## 8.3 C++的引用







