# 6. 指针

## 6.1 指针的本质（间接访问原理）

### 6.1.1 指针的定义

内存区域中的每字节都对应一个编号，这个编号就是“地址”。如果在程序中定义了一个变量，那么在对程序进行编译时，系统就会给这个变量分配内存单元。

* 直接访问：按变量地址存取变量值的方式（` printf("&d",i)`；`scanf("&d",&i);`）
* 间接访问：将变量i的地址存放到另一个变量中

~~~c
#include <stdio.h>  
int main()  
{  
    int i = 5;  
    int *i_pointer = &i;//定义一个指针变量  
    printf("i = %d\n", i);//直接访问  
    printf("i_pointer = %d\n", *i_pointer);//间接访问  
    return 0;  
}
~~~

**指针变量**是一种特殊的变量，它用来存放变量地址。

* 定义格式：`基类型 *指针变量名`
* 示例：`int *i_pointer`，注意这里的*i_pointer*才是变量名，没有星号`*`
* 指针变量本身所占的空间大小在在32位程序中占4字节，在64位程序中占8个字节（考研往往强调的是32位程序）
* 指针变量的初始化时某个变量取地址来赋值（必须指定相同的类型，整型变量对应整型指针等）

**指针**可以直接理解为变量的地址的同义词

* 注意区分指针变量
* 如果有一个变量专门用来存放另一变量的地址（即指针），那么称它为"指针变量"


### 6.1.2 取地址操作符与取值操作符

* 取地址操作符为`&`，也称引用，通过该操作符可以获取一个变量的地址值
* 取值操作符为`*`，也称解引用，通过该操作符可以得到一个地址对应的数据
* `&`和`*`的优先级是相同的，但是要按照自右向左的顺序运行


## 6.2 指针的传递使用场景

指针的使用场景通常只有2个，即传递与偏移。

不同函数之间的栈空间是有权限相互访问的

 ~~~c
#include <stdio.h>  
void change(int *j)  
{  
    *j=10;//*j等价于变量i，间接访问变量i  
}  
int main()  
{  
    int i = 5;  
    // int *i_pointer = &i;  
    // change(i_pointer);    
    change(&i);// 传地址，和上面的被注释掉的原理是一样的  
    printf("i = %d\n", i);  
    return 0;  
}
 ~~~

## 6.3 指针的偏移使用场景 



## 6.4 指针与malloc动态内存申请


